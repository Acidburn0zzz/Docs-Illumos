



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.6">
    
    
      
        <title>Overview - illumos</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#how-to-build-illumos" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="illumos" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                illumos
              </span>
              <span class="md-header-nav__topic">
                Overview
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/illumos/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      illumos/docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../images/logo.png" width="24" height="24">
      
    </span>
    illumos
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/illumos/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      illumos/docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/" title="What is illumos?" class="md-nav__link">
      What is illumos?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/who/" title="Who uses illumos?" class="md-nav__link">
      Who uses illumos?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/leadership/" title="Leadership" class="md-nav__link">
      Leadership
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/distro/" title="Distributions" class="md-nav__link">
      Distributions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/logo/" title="Logo" class="md-nav__link">
      Logo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      History
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        History
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/history/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/announcement/" title="Announcement" class="md-nav__link">
      Announcement
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bugs/" title="Bug Reporting" class="md-nav__link">
      Bug Reporting
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3" checked>
    
    <label class="md-nav__link" for="nav-4-3">
      Building illumos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Building illumos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Overview
      </label>
    
    <a href="./" title="Overview" class="md-nav__link md-nav__link--active">
      Overview
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-required-packages" title="Installing required packages" class="md-nav__link">
    Installing required packages
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openindiana" title="OpenIndiana" class="md-nav__link">
    OpenIndiana
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#omnios" title="OmniOS" class="md-nav__link">
    OmniOS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilers" title="Compilers" class="md-nav__link">
    Compilers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcc" title="GCC" class="md-nav__link">
    GCC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sun-studio" title="Sun Studio" class="md-nav__link">
    Sun Studio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-components/" title="Building Components" class="md-nav__link">
      Building Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-datasets/" title="Build Datasets" class="md-nav__link">
      Build Datasets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-workspaces/" title="Multiple Workspaces" class="md-nav__link">
      Multiple Workspaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-multibug/" title="Working Multiple Bugs" class="md-nav__link">
      Working Multiple Bugs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-studio/" title="Building with Sun Studio" class="md-nav__link">
      Building with Sun Studio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../build-comp-webrev/" title="Comparing with webrev" class="md-nav__link">
      Comparing with webrev
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../manual/" title="Manuals" class="md-nav__link">
      Manuals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Debugging
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Debugging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../debug/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug-systems/" title="Systems" class="md-nav__link">
      Systems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug-apps/" title="Applications" class="md-nav__link">
      Applications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../flagdays/" title="Flag Days" class="md-nav__link">
      Flag Days
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/quality/" title="System state" class="md-nav__link">
      System state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contributing/qds/" title="Quality Death Spiral" class="md-nav__link">
      Quality Death Spiral
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Community
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Community
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/lists/" title="Mailing Lists" class="md-nav__link">
      Mailing Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/events/" title="Events" class="md-nav__link">
      Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/videos/" title="Videos" class="md-nav__link">
      Videos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-5" type="checkbox" id="nav-8-5">
    
    <label class="md-nav__link" for="nav-8-5">
      Google Summer of Code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-5">
        Google Summer of Code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/gsoc/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/gsoc-application/" title="Student Application" class="md-nav__link">
      Student Application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/gsoc-expectations/" title="Student Expectations" class="md-nav__link">
      Student Expectations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/gsoc-proposal/" title="Writing a Proposal" class="md-nav__link">
      Writing a Proposal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/gsoc-mentor/" title="Becoming a Mentor" class="md-nav__link">
      Becoming a Mentor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../community/gsoc-mentor-application/" title="Mentoring Application" class="md-nav__link">
      Mentoring Application
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../projects/" title="Projects" class="md-nav__link">
      Projects
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-required-packages" title="Installing required packages" class="md-nav__link">
    Installing required packages
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openindiana" title="OpenIndiana" class="md-nav__link">
    OpenIndiana
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#omnios" title="OmniOS" class="md-nav__link">
    OmniOS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilers" title="Compilers" class="md-nav__link">
    Compilers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcc" title="GCC" class="md-nav__link">
    GCC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sun-studio" title="Sun Studio" class="md-nav__link">
    Sun Studio
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/illumos/docs/edit/master/docs/user-guide/build.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="how-to-build-illumos">How to build illumos<a class="headerlink" href="#how-to-build-illumos" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p>Please also refer to the <a href="https://illumos.org/books/dev/intro.html">illumos Developer's Guide</a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Requires Review</p>
<p>This page references some old practices and needs to be reviewed.</p>
</div>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>This document will help prepare you to build the source code for illumos. It
assumes some familiarity with development on Unix-like systems.</p>
<p>You need an illumos-based operating system to build illumos. Cross-compilation
is not supported).</p>
<p>If you don't have one installed, the quickest way to get started is to download
and install either <a href="https://openindiana.org">OpenIndiana</a> or
<a href="https://www.omniosce.org/">OmniOS</a>.</p>
<p>You may use a virtual machine – compilation performance may suffer, but it is
functional. Some other distributions support self-hosting, including
compilation of illumos-gate, as well.</p>
<div class="admonition note">
<p>All commands in this guide assume you run them as an unprivileged user.
sudo will be prepended to commands which need additional privileges; on some
systems pfexec can be used instead, if your user has the correct RBAC profiles.
The generic commands below use a $USER variable to define the current
(unprivileged) user account's name which will ultimately be used to compile the
project. If you are not using a stock shell or have manipulated the $USER
variable in your environment at a site, system, or user level, you are
responsible for diagnosing and addressing any consequences.</p>
</div>
<h2 id="installing-required-packages">Installing required packages<a class="headerlink" href="#installing-required-packages" title="Permanent link">&para;</a></h2>
<p>You will need to install the basic development environment to build illumos.</p>
<h3 id="openindiana">OpenIndiana<a class="headerlink" href="#openindiana" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>sudo pkg install build-essential
</pre></div>

<h3 id="omnios">OmniOS<a class="headerlink" href="#omnios" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>sudo pkg install pkg:/developer/illumos-tools
</pre></div>

<h2 id="compilers">Compilers<a class="headerlink" href="#compilers" title="Permanent link">&para;</a></h2>
<p>The source code was traditionally built using Sun's closed-source compiler
suite, which was named Sun Studio at the time of the illumos fork.  We now
build illumos with GCC, but you will still need some tools from Sun Studio and
those are available as packages in the legacy OpenSolaris repository.</p>
<h3 id="gcc">GCC<a class="headerlink" href="#gcc" title="Permanent link">&para;</a></h3>
<p>The primary version of GCC necessary for development and integration 4.4.4
(4.4.4-il-4) should have been installed on your system when you installed the
prerequisites above.</p>
<div class="admonition warning">
<p class="admonition-title">OpenIndiana Hipster 20161030</p>
<p>OpenIndiana Hipster 20161030 ships with gcc-4.4.4-il-3, so make sure to update that package to -il-4 before building.
Building with 4.4.4-il-3 leads to build failures with warnings as below in the mail_msg and nightly.log:
<div class="codehilite"><pre><span></span>../../i86pc/os/trap.c:2188: error: unknown conversion type character &#39;-&#39; in format [-Wformat]
../../i86pc/os/trap.c:2188: error: too many arguments for format [-Wformat-extra-args]
</pre></div></p>
</div>
<p>Note that the compiler for building <code>illumos-gate</code> installs into
<code>/opt/gcc/4.4.4</code> on OpenIndiana, and <code>/opt/gcc-4.4.4</code> on OmniOS and is not
available in the default PATH for building application programs.</p>
<p>You can add (OI example) <code>PATH=&quot;/opt/gcc/4.4.4/bin:$PATH&quot;; export PATH</code> to your
profile to reference this compiler, or install one of the other GCC builds,
destined as the current default compiler for application programs (versions
ranging from 3.4.3 to 4.6.x, see <code>pkg info -r '*gcc*'</code> for details du-jour).</p>
<p>Unfortunately, Sun Studio <code>lint</code> is currently required even for GCC-only builds.
We currently deliver Lint libraries built using the closed Sun Studio version
of lint. OmniOS includes this in its <code>sunstudio12.1</code> package.  On OpenIndiana
it's delivered as part of <code>developer/sunstudio12u1/cc</code>, which you shouldn't
install explicitly if you've already installed <code>build-essential</code>.</p>
<h3 id="sun-studio">Sun Studio<a class="headerlink" href="#sun-studio" title="Permanent link">&para;</a></h3>
<p>Building with Sun Studio is generally unsupported. If you have need of it,
please refer to <a href="../build-studio/">Building With Sun Studio</a>.</p>
<h1 id="building-illumos">Building illumos<a class="headerlink" href="#building-illumos" title="Permanent link">&para;</a></h1>
<h2 id="preparing-the-source-code-directory">Preparing the source-code directory<a class="headerlink" href="#preparing-the-source-code-directory" title="Permanent link">&para;</a></h2>
<p>You can use any location, but for the purposes of this guide, we will assume
that you have a directory <code>/code</code> owned by your user ID, which you are using to
obtain source and build.</p>
<p>For a less naive example, see the <a href="../build-datasets/">Build datasets</a> page and
some more industrious details on <a href="../build-workspaces/">Managing multiple
workspaces</a> and <a href="">Working on several bugs</a> at once.</p>
<h2 id="getting-the-source">Getting the source<a class="headerlink" href="#getting-the-source" title="Permanent link">&para;</a></h2>
<p>You may use the Git source code management system to retrieve the illumos
source code. Make sure you have about 6 gigabytes of free space for the source
and binaries combined.</p>
<p>The repository is available from GitHub using the Git source code control
system.</p>
<p>The Git repository URI is: <code>git://github.com/illumos/illumos-gate.git</code></p>
<p>Or, if the Git protocol is firewalled at your site: <a href="https://github.com/illumos/illumos-gate.git">https://github.com/illumos/illumos-gate.git</a></p>
<p>The illumos-gate source can then be cloned using:</p>
<div class="codehilite"><pre><span></span>cd /code
git clone git://github.com/illumos/illumos-gate.git
</pre></div>

<h2 id="getting-closed-binaries">Getting closed binaries<a class="headerlink" href="#getting-closed-binaries" title="Permanent link">&para;</a></h2>
<p>There are still closed components in illumos that have not yet been replaced.
You must get the latest closed binaries from Sun/Oracle, since illumos
currently needs those in order to build:</p>
<div class="codehilite"><pre><span></span>cd /code/illumos-gate
wget -c \
  https://download.joyent.com/pub/build/illumos/on-closed-bins.i386.tar.bz2 \
  https://download.joyent.com/pub/build/illumos/on-closed-bins-nd.i386.tar.bz2
tar xjvpf on-closed-bins.i386.tar.bz2
tar xjvpf on-closed-bins-nd.i386.tar.bz2
</pre></div>

<div class="admonition note">
<p>OmniOS r151016 or later and OpenIndiana users have these tarballs installed in /opt/onbld/closed, and ON_CLOSED_BINS can be set to point to this directory directly.</p>
</div>
<div class="admonition warning">
<p>If you had a crypto tarball from an earlier build, do not use it here, as it is no longer required to build illumos. You should remove it from your tree if already present.</p>
</div>
<p>According to the gcc-4.4.4-il heads-up note, the kernel modules among the
closed binaries might need some fixup for proper compilation. According to
several developers, however, they've never needed to do this in practice. Just
in case you are trying to build some older branch of illumos which might
require this modification and inexplicably breaks without it, the steps are
outlined below in the troubleshooting section.</p>
<h2 id="preparing-the-build-environment">Preparing the build environment<a class="headerlink" href="#preparing-the-build-environment" title="Permanent link">&para;</a></h2>
<h3 id="general-build-configuration">General build configuration<a class="headerlink" href="#general-build-configuration" title="Permanent link">&para;</a></h3>
<p>The build is configured using a shell script with environment variables, a template for this file is included:</p>
<div class="codehilite"><pre><span></span>cp usr/src/tools/env/illumos.sh .
vi illumos.sh       # or your favourite editor instead of @vi@
</pre></div>

<p>The settings we are going to focus on for now are the following:</p>
<table>
<thead>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
</thead>
<tbody>
<tr>
<td>NIGHTLY_OPTIONS</td>
<td>You may remove the "l" (lowercase L) option from the string, this will disable lint checking of the code to save some time during the build, but patches should be linted.</td>
</tr>
<tr>
<td>CODEMGR_WS</td>
<td>This should be the root of the directory with the code. If you followed the previous example, it will be <code>/code/illumos-gate</code>.</td>
</tr>
<tr>
<td>STAFFER</td>
<td>Change this to the name of the non-privileged user you use on the system</td>
</tr>
<tr>
<td>VERSION</td>
<td>Set this to illumos-gate or whatever version string you want for the build</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p><code>ONNV_BUILDNUM</code> specifies the build number which is used in packaging. If you intend to upgrade a system whose build number is greater than the one in illumos-gate (currently 148), such as OmniOS you need to specify this to allow upgrades until issue #1118 is addressed. Run:
<div class="codehilite"><pre><span></span>pkg info osnet-incorporation | grep Branch:
</pre></div>
If you see, for example, "Branch: 0.151.1", you must choose a number greater than the part after the leading "0.". For example, add</p>
</div>
<div class="codehilite"><pre><span></span>export ONNV_BUILDNUM=152
</pre></div>

<p>to the <code>illumos.sh</code> script.</p>
<p>On OpenIndiana you'll likely see something like 'Branch: 2017.0.0.16790'. You
have to use PKGVERS_BRANCH to overwrite this value, you can't use ONNV_BUILDNUM
for this purpose. You should set PKGVERS_BRANCH in a form of YEAR.MAJOR.0.0 ,
where YEAR is the current year and MAJOR is more that the one used by
OpenIndiana. For example:  </p>
<div class="codehilite"><pre><span></span>export PKGVERS_BRANCH=2017.3.0.0
</pre></div>

<h2 id="building-with-only-gcc-444-il-ie-without-using-sun-studio-at-all">Building with only GCC-4.4.4-il (i.e. without using Sun Studio at all)<a class="headerlink" href="#building-with-only-gcc-444-il-ie-without-using-sun-studio-at-all" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p>If you are building with solely GCC 4.4.4 (i.e. you do NOT wish to use Sun Studio at all), you must append these lines to the end of illumos.sh:
<div class="codehilite"><pre><span></span># The following are added to build without Sun Studio
export CW_NO_SHADOW=1
export ONLY_LINT_DEFS=-I${SPRO_ROOT}/sunstudio12.1/prod/include/lint
export __GNUC=&quot;&quot;
#unset __SUNC
</pre></div></p>
</div>
<p>This should suffice for compilation of modern illumos-gate sources executed
on a modern distribution. Older branches (circa 2012) might need some more
setup which, along with explanation of the options, can be found below in the
troubleshooting section.</p>
<p>We understand that the required version of Sun Studio is no longer publicly
available and will accept contributions that were tested only with GCC.</p>
<h2 id="omnios-modifications">OmniOS Modifications<a class="headerlink" href="#omnios-modifications" title="Permanent link">&para;</a></h2>
<p>OmniOS r151014 or later has sample build files in <code>/opt/onbld/env/omnios-*</code> for
use with illumos-gate or illumos-omnios.  If you roll your own env files, read
on.</p>
<p>OmniOS requires that GCC-only be used.  OmniOS ALSO requires that a few other
variables are set:</p>
<h3 id="omnios-mods">OmniOS mods<a class="headerlink" href="#omnios-mods" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span># Help OmniOS find lint
export SPRO_ROOT=&#39;/opt&#39;

# OmniOS places GCC 4.4.4 differently.
export GCC_ROOT=/opt/gcc-4.4.4/

# These are required for building on OmniOS.
export PERL_VERSION=5.16.1
export PERL_PKGVERS=
export PERL_ARCH=i86pc-solaris-thread-multi-64int

# Pre-r151022 (i.e. older) versions of OmniOS building -gate
# need to set Python versions explicitly.
# Utter &quot;/usr/bin/python --version&quot; to confirm.
export PYTHON_VERSION=&quot;2.6&quot;
export PYTHON_PKGVERS=&quot;-26&quot;

# SET ONNV_BUILDNUM appropriately - to ONU r151014, set this to 151014.
export ONNV_BUILDNUM=151014
</pre></div>

<p>You must also make sure you disable IPP and SMB printing support on the default OmniOS installation by commenting out the following lines.</p>
<p><div class="codehilite"><pre><span></span># export ENABLE_IPP_PRINTING=
# export ENABLE_SMB_PRINTING=
</pre></div>
If you need to also compile IPP and SMB printing, you must provide the Apache, Apr/Apr-util for IPP or CUPS headers for SMB printing.</p>
<h2 id="openindiana-modifications">OpenIndiana Modifications<a class="headerlink" href="#openindiana-modifications" title="Permanent link">&para;</a></h2>
<p>To build illumos-gate on OpenIndiana , you'll have to customize illumos.sh in
the following way:</p>
<h3 id="openindiana-hipster-mods">OpenIndiana Hipster mods<a class="headerlink" href="#openindiana-hipster-mods" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span># Set version which is greater than current OpenIndiana Hipster build numbers, ONNV_BUILDNUM is ignored if PKGVERS_BRANCH is set:
export PKGVERS_BRANCH=2017.3.0.0

# Set to current perl version
export PERL_VERSION=&quot;5.22&quot;
export PERL_PKGVERS=&quot;-522&quot;

# If you are building on the latest OpenIndiana (2017-03-07 and later)
export BLD_JAVA_8=
</pre></div>

<h2 id="starting-the-build">Starting the build<a class="headerlink" href="#starting-the-build" title="Permanent link">&para;</a></h2>
<p>You are now ready to start the illumos build.</p>
<p>Since this process may take up to several hours depending on your system
(reference build times are in a chart below), it may be wise to start the build
job in a VNC session, GNU Screen (screen), or tmux. The screen program can be
installed with the <code>pkg:/terminal/screen</code> package.</p>
<p>Run the following command to start the full build:</p>
<div class="codehilite"><pre><span></span>cd /code/illumos-gate
cp usr/src/tools/scripts/nightly.sh .
chmod +x nightly.sh
time ./nightly.sh illumos.sh
</pre></div>

<p>Note that the command does not give any progress output. You can instead follow
the log file at <code>log/nightly.log</code>, which is updated (slowly) during the build
process. In another terminal, run:</p>
<div class="codehilite"><pre><span></span>tail -f /code/illumos-gate/log/nightly.log
</pre></div>

<p>To only track the running build for warnings and errors you might instead run:</p>
<div class="codehilite"><pre><span></span>tail -F /code/illumos-gate/log/nightly.log | gegrep -A5 -B5 &#39;(error|warning).*: &#39;
</pre></div>

<p>After the build is complete, the nightly.log file and some other generated logs
are moved into a uniquely named subdirectory <code>log/log.$TIMESTAMP/</code> (i.e.
<code>/code/illumos-gate/log/log.2012-04-20.04\:17/</code>).</p>
<p>A dry overview of the build progress (hopefully small – about 2KB in size –
with no errors) is saved in <code>log/log.$TIMESTAMP/mail_msg</code> file intended for
mailing to the build administrator after the build completes (this automation
is out of the scope of the nightly.sh script). If you do receive any errors in
the <code>mail_msg</code> report file, you can grep the error lines in the larger
<code>nightly.log</code> file.</p>
<h2 id="performing-an-incremental-build">Performing an incremental build<a class="headerlink" href="#performing-an-incremental-build" title="Permanent link">&para;</a></h2>
<p>If you've made changes after completing a nightly build, you can perform an incremental build without discarding the already built files.</p>
<div class="codehilite"><pre><span></span>cd /code/illumos-gate
./nightly.sh -i illumos.sh
</pre></div>

<p>To make this the default, edit <code>illumos.sh</code> and add the character <code>i</code> to <code>NIGHTLY_OPTIONS</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before submitting a patch, we request that you perform a full, non-incremental build including the lint stage.</p>
</div>
<h2 id="building-specific-components">Building specific components<a class="headerlink" href="#building-specific-components" title="Permanent link">&para;</a></h2>
<p><a href="">How To Build Components</a></p>
<h2 id="installing-built-software">Installing built software<a class="headerlink" href="#installing-built-software" title="Permanent link">&para;</a></h2>
<h3 id="installing-the-nightly-build-on-local-machine-with-onu-script">Installing the nightly build on local machine with onu script<a class="headerlink" href="#installing-the-nightly-build-on-local-machine-with-onu-script" title="Permanent link">&para;</a></h3>
<p>The build process will generate updated packages. Depending on the
NIGHTLY_OPTIONS variable in illumos.sh script, the packages will be written
either to $PWD/packages/i386/nightly (with debug, the typical default) or to
$PWD/packages/i386/nightly-nd (without debug). Therefore there are two possible
commands to install the software you you just built. You need choose the proper
onu command, typically the first one listed below.</p>
<p>Typical install: you can install with onu for debug builds (the default, with
'F' and 'D' characters in NIGHTLY_OPTIONS variable in illumos.sh):</p>
<div class="codehilite"><pre><span></span>$ sudo ./usr/src/tools/scripts/onu \
    -t nightly-`date +%Y-%m-%d` -d $PWD/packages/i386/nightly
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For OmniOS, it is critical that the ONNV_BUILDNUM in the nightly environment file be set to the OmniOS release you wish to ONU.  Otherwise, ONU will fail.</p>
</div>
<p>The non-typical installs are detailed in the following pages:</p>
<ul>
<li><a href="">Advanced - non-debug install</a> describes different onu options for the different set of built packages.</li>
<li><a href="">Redistributing built packages</a> and <a href="">Installing built illumos packages into BEs on a remote host and non-onu updates</a> describe how to install illumos using the package depot server over the network, perhaps on a machine different from your build host. This recipe bypasses the onu script automation and manipulates your boot environments with beadm and pkg commands directly.</li>
</ul>
<h2 id="possible-problems">Possible problems<a class="headerlink" href="#possible-problems" title="Permanent link">&para;</a></h2>
<p>In any case, if you have build errors or other "inconsistencies", it would be
wise to revise the mail_msg logfile that can contain short error descriptions,
and grep for those errors in the longer nightly.log file. If that doesn't help,
you should also recreate the build in a "clean lab" environment, which may be
set up as a local zone according to the Building in zones instructions and rule
out the local environment's influence (conflicting libraries and binaries,
perhaps from your own earlier builds, come to mind first).</p>
<h2 id="localization-bugs-167-and-168">Localization bugs #167 and #168<a class="headerlink" href="#localization-bugs-167-and-168" title="Permanent link">&para;</a></h2>
<p>illumos has entirely different localization infrastructure from Solaris, so
your existing system locales will not work.</p>
<p>The English locales for illumos are in pkg:/locale/en (NOT
pkg:/system/locale/en), and if you wish to use them, you'll need to install
that package after you reboot. Likewise, other locales are in
pkg:/locale/<language code> where <language code> is a two letter ISO 639-1
code, except for zh_cn/zh_hk/zh_mo/zh_sg/zh_tw.</p>
<p>If your locale is not installed, it will cause problems with software which
behaves badly if setlocale() fails. This includes, at least, time-slider and
svcs(1M). The pkg(5) commands print a warning, but function normally.</p>
<p>If this is a problem, you can  "export LANG=C LC_ALL=C" as a workaround, and
change the LANG setting in/etc/default/init to 'C' (and reboot) to make the
change permanent.</p>
<h2 id="package-repository-path-codeillumos-gatepackagesi386nightlyreporedist-is-not-created-and-onu-script-fails">Package repository (path /code/illumos-gate/packages/i386/nightly/repo.redist) is not created and onu script fails<a class="headerlink" href="#package-repository-path-codeillumos-gatepackagesi386nightlyreporedist-is-not-created-and-onu-script-fails" title="Permanent link">&para;</a></h2>
<p>This error has happened to me whenever I ran the default checkout and
full-build procedure outlined above (in VirtualBox VMs); I don't yet know why
(possibly due to a wrong setup of my SunStudio compiler stack, as was later
discovered).  However, rerunning with an incremental build has created the
package repository correctly (as well as full builds with proper SunStudio
setup):</p>
<div class="codehilite"><pre><span></span>./nightly.sh -i illumos.sh
</pre></div>

<p>Ensuring a build with only GCC-4.4.4-il for older branches of illumos
Current illumos-gate (as of March 2014) should compile cleanly with GCC with the simplified instructions above. However, some earlier versions of the gate needed more configuration steps to compile properly, and the settings below shouldn't break anything for the newer source code as well (wink)</p>
<p>If you are building with solely GCC 4.4.4 (i.e. you do NOT wish to use Sun Studio at all), you must append these lines to the end of illumos.sh:</p>
<div class="codehilite"><pre><span></span># The following are added to build without Sun Studio
export CW_NO_SHADOW=1
export ONLY_LINT_DEFS=-I${SPRO_ROOT}/sunstudio12.1/prod/include/lint
# The following select the proper version of GCC
__GNUC=&quot;&quot;; __GNUC4=&quot;&quot;; export __GNUC __GNUC4
GCC_ROOT=/opt/gcc/4.4.4; export GCC_ROOT
CW_GCC_DIR=${GCC_ROOT}/bin; export CW_GCC_DIR
</pre></div>

<p>Explanation of these settings:</p>
<p>CW_NO_SHADOW - Set this to 1 to prevent the shadow compiler from running (for
instance, if you do not have Studio at all, in which case a regular build would
fail due to "cw: error: couldn't run /opt/SUNWspro/bin/cc (No such file or
directory)" and inability to run the shadow compilation and thus verify the
fitness of code for both supported compilers).  ONLY_LINT_DEFS - This is needed
so the lint is able to find the proper note.h include file.  If __GNUC is
defined, then a GCC would be the primary compiler. If __GNUC4 (or legacy
__GNUC3) is defined, then the particular version of the compiler is used.
Remember to unset __SUNC to properly use just one primary compiler (wink) and
use CW_NO_SHADOW=1 as described above to completely disable a secondary
(shadow) compiler.  The last two lines make sure the patched version of
GCC-4.4.4 is used (the default gcc version shipped with e.g. earlier
OpenIndiana, gcc-3.4.3, is not suitable for building illumos), as described
here.</p>
<p>If you are trying to build with GCC 4.4.4 and your build fails because of some
invalid GCC warning options, try setting the variables GCC_ROOT and CW_GCC_DIR
as shown above and described here.</p>
<div class="admonition warning">
<p>While recently rebuilding a historical 2012 version of illumos-gate with GCC-4.4.4-only setup per instructions above, I've still got Sun Studio errors in my mail_msg file like:</p>
</div>
<div class="codehilite"><pre><span></span>&lt; cw: error: couldn&#39;t run /opt/SUNWspro/bin/CC (No such file or directory) 
&lt; cw: error: couldn&#39;t run /opt/SUNWspro/bin/cc (No such file or directory)
</pre></div>

<p>or more frightening:</p>
<div class="codehilite"><pre><span></span>&lt; ln: cannot access /code/illumos-gate/proto/root_i386/usr/lib/isaexec
</pre></div>

<p>However, the files in proto/ and packages/ were created successfully. So... even error reports may need manual verification before panic and frantic fixes (wink)</p>
<h3 id="command-failed-for-target-packagesi386developer-dtracedep">Command failed for target `packages.i386/developer-dtrace.dep'<a class="headerlink" href="#command-failed-for-target-packagesi386developer-dtracedep" title="Permanent link">&para;</a></h3>
<p>4719 introduces a flag day for people who build illumos-gate. You will need a
Java Developers Kit (JDK) 7 or later. OpenIndiana 151a9 does NOT have this by
default.</p>
<p>Symptoms: Users still on JDK6 will see build errors in the packaging portions
like such:</p>
<div class="codehilite"><pre><span></span>==== package build errors (non-DEBUG) ====

dmake: Warning: Command failed for target `packages.i386/developer-dtrace.dep&#39;
dmake: Warning: Command failed for target `packages.i386/service-network-dns-mdns.dep&#39;
dmake: Warning: Target `install&#39; not remade because of errors
Cause: These are due to javadoc changes between 6 and 7.  The dtrace and mdns packages generate javadoc, so their packaging manifests are updated to the 7 versions.
</pre></div>

<p>Cure: Builders must either set JAVA_ROOT to an installation location of JDK7,
or must have /usr/java populated with JDK7 (or pointing to an installation
location of JDK7). You can use whatever distribution of JDK7+ works for you
best (packages or tarballs, OpenJDK or Sun/Oracle JDK).</p>
<p>If you are on the latest OpenIndiana, you want to install runtime/java/openjdk8
and developer/java/openjdk8 packages. Then in your env file, set:</p>
<div class="codehilite"><pre><span></span>export BLD_JAVA_8=
</pre></div>

<h1 id="build-times">Build times<a class="headerlink" href="#build-times" title="Permanent link">&para;</a></h1>
<p>As a convenience, we will try to assemble some build times for various hardware
configurations here, so you can get an idea in advance of how long it will
take:</p>
<table>
<thead>
<tr>
<th>Processor(s)</th>
<th>No. of cores</th>
<th>Memory</th>
<th>Time (HH:MM)</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>2 x Xeon X5570 2.93GHz</td>
<td>2 x 4</td>
<td>36 GB</td>
<td>00:19</td>
<td>NIGHTLY_OPTIONS='-FnCDmprt'</td>
</tr>
<tr>
<td>4 x Opteron 6172 2.1 GHz</td>
<td>4 x 12</td>
<td>128 GB</td>
<td>00:21</td>
<td>NIGHTLY_OPTIONS='-FnCDmprt'</td>
</tr>
<tr>
<td>Xeon E3-1270 3.4 GHz</td>
<td>4</td>
<td>16 GB</td>
<td>00:23</td>
<td>NIGHTLY_OPTIONS='-FnCDmprt'</td>
</tr>
<tr>
<td>Core i7-3770 3.4GHz</td>
<td>4</td>
<td>8 GB</td>
<td>00:28</td>
<td>NIGHTLY_OPTIONS='-nCprt' (with SSD, the production build for Tribblix)</td>
</tr>
<tr>
<td>Xeon E3-1245V2 3.4 GHz</td>
<td>4</td>
<td>16 GB</td>
<td>00:31</td>
<td>NIGHTLY_OPTIONS='-FnCDmprt'</td>
</tr>
<tr>
<td>Core i7-2600K 3.4 GHz</td>
<td>4</td>
<td>8 GB</td>
<td>00:35</td>
<td>NIGHTLY_OPTIONS='-nClmprt'</td>
</tr>
<tr>
<td>2 x Xeon E5620 2.4 GHz</td>
<td>2 x 4</td>
<td>48 GB</td>
<td>00:38</td>
<td>None</td>
</tr>
<tr>
<td>1 x Xeon E5607 2.27GHz</td>
<td>1 x 4</td>
<td>12 GB</td>
<td>00:46</td>
<td>NIGHTLY_OPTIONS='-FnCDmprt'</td>
</tr>
<tr>
<td>Xeon E3-1245V2 3.4 GHz</td>
<td>4</td>
<td>16 GB</td>
<td>00:47</td>
<td>NIGHTLY_OPTIONS='-FnCDlmprt' (with lint)</td>
</tr>
<tr>
<td>2 x Xeon E5540 2.53 GHz</td>
<td>2 x 4</td>
<td>24 GB</td>
<td>00:50</td>
<td>With lint</td>
</tr>
<tr>
<td>2 x Xeon E5506 2.13 GHz</td>
<td>2 x 4</td>
<td>24 GB</td>
<td>00:50</td>
<td>No dmake check</td>
</tr>
<tr>
<td>1 x Xeon X5650 2.67 GHz</td>
<td>1 x 6</td>
<td>12 GB</td>
<td>00:51</td>
<td>With lint, default NIGHTLY_OPTIONS</td>
</tr>
<tr>
<td>2 x Xeon E5506 2.13 GHz</td>
<td>2 x 4</td>
<td>24 GB</td>
<td>01:03</td>
<td>None</td>
</tr>
<tr>
<td>Core i7-960 3.2 GHz</td>
<td>4</td>
<td>9 GB</td>
<td>01:03</td>
<td>With lint</td>
</tr>
<tr>
<td>2 x Xeon E5506 2.13 GHz</td>
<td>2 x 4</td>
<td>16 GB</td>
<td>01:06</td>
<td>VMware Workstation guest</td>
</tr>
<tr>
<td>Core i7-930 2.8 GHz</td>
<td>4</td>
<td>8 GB</td>
<td>01:07</td>
<td>VMware ESXi guest</td>
</tr>
<tr>
<td>Xeon  E5-2676 v3 2.4GHz</td>
<td>2</td>
<td>16 GB</td>
<td>01:13</td>
<td>NIGHTLY_OPTIONS='-nCprt' (Tribblix) on an AWS m4.xlarge EC2 instance</td>
</tr>
<tr>
<td>Core 2 Quad Q6600 2.4 GHz</td>
<td>4</td>
<td>2 GB</td>
<td>01:16</td>
<td>None</td>
</tr>
<tr>
<td>2 x Xeon E5310 1.6 GHz</td>
<td>2 x 4</td>
<td>32 GB</td>
<td>01:24</td>
<td>None</td>
</tr>
<tr>
<td>1 x Athlon II X2 240 2.8 GHz</td>
<td>2</td>
<td>2 GB</td>
<td>01:27</td>
<td>NIGHTLY_OPTIONS='-FnCDmprt', on a low end SSD</td>
</tr>
<tr>
<td>Core 2 Quad Q9300 2.5 GHz</td>
<td>4</td>
<td>7 GB</td>
<td>01:32</td>
<td>None</td>
</tr>
<tr>
<td>2 x Xeon E5420 @ 2.50GHz</td>
<td>2 x 4</td>
<td>4 GB</td>
<td>01:33</td>
<td>Default NIGHTLY_OPTIONS; an incremental rebuild takes 13 min to walk all Makefiles</td>
</tr>
<tr>
<td>2 x Opteron 2218HE 2.6 GHz</td>
<td>2 x 2</td>
<td>16 GB</td>
<td>01:42</td>
<td>None</td>
</tr>
<tr>
<td>Core i5-540M 2.53 GHz</td>
<td>2</td>
<td>4 GB</td>
<td>01:54</td>
<td>None</td>
</tr>
<tr>
<td>2 x UltraSPARC-T2+ 1165 MHz</td>
<td>128 threads</td>
<td>32 GB</td>
<td>02:18</td>
<td>NIGHTLY_OPTIONS='-nCprt' (the Tribblix SPARC build)</td>
</tr>
<tr>
<td>Core i3-370M 2.40 GHz</td>
<td>2</td>
<td>2 GB</td>
<td>02:30</td>
<td>None</td>
</tr>
<tr>
<td>Core 2 Quad Q8200 2.33 GHz</td>
<td>4</td>
<td>5 GB</td>
<td>02:30</td>
<td>Default NIGHTLY_OPTIONS.</td>
</tr>
<tr>
<td>Core 2 Duo T8300 2.3 GHz (T61)</td>
<td>2</td>
<td>2 GB</td>
<td>02:58</td>
<td>VMware Workstation 2 CPUs</td>
</tr>
<tr>
<td>Core 2 Duo E6750 2.66 GHz</td>
<td>2</td>
<td>8 GB</td>
<td>02:59</td>
<td>Sun Ultra 24 (with lint)</td>
</tr>
<tr>
<td>Core 2 Duo Celeron E3200 3.2 GHz</td>
<td>2</td>
<td>4 GB</td>
<td>03:28</td>
<td>2.4 GHz CPU over clocked to 3.2. Everything running on a low end SSD. With lint.</td>
</tr>
<tr>
<td>Core 2 Duo T5600 1.8 GHz</td>
<td>2</td>
<td>3.3 GB</td>
<td>04:26</td>
<td>None</td>
</tr>
<tr>
<td>Opteron 146 2 GHz</td>
<td>1</td>
<td>4 GB</td>
<td>07:28</td>
<td>None</td>
</tr>
<tr>
<td>4 x Dual-Core Opteron 8218 2.6 GHz</td>
<td>(8-vCPU VM)</td>
<td>16 GB (2GB VM)</td>
<td>35:47 + 9:05</td>
<td>VirtualBox 3.0.12 VM, with 8 vCPUs and 2GB vRAM; local vHDD; with lint and default NIGHTLY_OPTIONS='-FnCDlmprt' NOTE: Package repo did not get built at all with the first nightly run, only with the second, incremental nightly run (another 9 hours)</td>
</tr>
</tbody>
</table>
<h3 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">&para;</a></h3>
<ul>
<li>"Bare Metal" just slightly faster than VMware guest. On the other hand, VirtualBox painfully slow.</li>
<li>More cores faster but not linear increase.</li>
<li>SSD use seems to provide nice speedup.</li>
<li>As expected, lint checking results in longer build times.</li>
</ul>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../bugs/" title="Bug Reporting" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Bug Reporting
              </span>
            </div>
          </a>
        
        
          <a href="../build-components/" title="Building Components" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Building Components
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.02434462.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>